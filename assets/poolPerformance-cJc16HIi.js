(function(){"use strict";self.addEventListener("message",async r=>{const{data:s}=r,{task:t}=s;let o={};switch(t){case"processNominationPoolsRewardData":o=await l(s);break}postMessage({task:t,...o})});const l=async({bondedPools:r,era:s,erasRewardPoints:t,exposures:o})=>{var i,d;const a={};for(const e of r){let c=null;for(const n of o){const{others:f}=n.val;if(f.find(w=>w.who===e)){c=n.keys[1];break}}if(c){const n=((d=(i=t[s])==null?void 0:i.individual)==null?void 0:d[c||""])??0;a[e]||(a[e]={}),a[e][s]=n}}return{poolRewardData:a}}})();
